{% extends "base.html" %}
{% block content %}
<section class="grid">
  <article class="card">
    <header>
      <h2>Recent Activity</h2>
    </header>
    {% if operation_log %}
      <ul class="activity-list">
        {% for entry in operation_log %}
          <li>
            <span class="activity-timestamp">{{ entry.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</span>
            <span class="activity-category">{{ entry.category|capitalize }}</span>
            <span class="activity-id">{{ entry.identifier }}</span>
            <span class="activity-status status-{{ entry.status|lower }}">{{ entry.status }}</span>
            <span class="activity-message">{{ entry.message }}</span>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p>No operations recorded yet. Use the tabs above to start a workflow.</p>
    {% endif %}
  </article>
  <article class="card">
    <header>
      <h2>Workflow Summary</h2>
    </header>
    <ul class="summary-list">
      <li><strong>Passport ops</strong> {{ summary.get('passport', 0) }}</li>
      <li><strong>Inspections</strong> {{ summary.get('inspection', 0) }}</li>
      <li><strong>MDL ops</strong> {{ summary.get('mdl', 0) }}</li>
    </ul>
  </article>
  <article class="card">
    <header>
      <h2>Quick Actions</h2>
    </header>
    <div class="quick-actions">
      <a class="button" href="/passport">Issue Passport</a>
      <a class="button" href="/passport">Verify Passport</a>
      <a class="button" href="/mdl">Create MDL</a>
    </div>
  </article>
</section>
{% endblock %}
