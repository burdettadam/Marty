# Microsoft Authenticator Demo Environment with Development Tunnel
# This configuration uses a development tunnel for HTTPS access required by Microsoft Authenticator

# Database Configuration
POSTGRES_USER=martyuser
POSTGRES_PASSWORD=martypassword
POSTGRES_DB=martydb
POSTGRES_PORT=5432

# MinIO Configuration
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minioadmin123
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# Service Ports (will be tunneled)
ISSUER_PORT=8000
VERIFIER_PORT=8001

# Development Tunnel Configuration
PORT_FORWARD_MODE=true
ISSUER_BASE_URL=https://7bmt9pc1-8000.usw3.devtunnels.ms
VERIFIER_BASE_URL=https://7bmt9pc1-8001.usw3.devtunnels.ms
ISSUER_API_URL=https://7bmt9pc1-8000.usw3.devtunnels.ms
VERIFIER_API_URL=https://7bmt9pc1-8001.usw3.devtunnels.ms
CREDENTIAL_ISSUER_DID=did:web:7bmt9pc1-8000.usw3.devtunnels.ms
VERIFIER_DID=did:web:7bmt9pc1-8001.usw3.devtunnels.ms
CORS_ORIGINS=https://7bmt9pc1-8000.usw3.devtunnels.ms,https://7bmt9pc1-8001.usw3.devtunnels.ms

# Vault Configuration
VAULT_ROOT_TOKEN=myroot
VAULT_PORT=8200

# Service Internal URLs (for inter-service communication within Kubernetes)
ISSUER_INTERNAL_URL=http://issuer-api-service:8000
VERIFIER_INTERNAL_URL=http://verifier-api-service:8001

# Logging
LOG_LEVEL=INFO

# Deployment Mode
DEPLOYMENT_MODE=kubernetes-tunnel
NAMESPACE=marty-microsoft-demo
CLUSTER_NAME=marty-microsoft-demo

# Instructions:
# 1. Set up tunnels to forward ports 30000 → 8000 and 30001 → 8001
# 2. Update the test script to use this environment
# 3. Restart Kubernetes deployment: make k8s-deploy
# 4. Test with: make test-endpoints
# 5. Access issuer at: https://7bmt9pc1-8000.usw3.devtunnels.ms
# 6. Access verifier at: https://7bmt9pc1-8001.usw3.devtunnels.ms